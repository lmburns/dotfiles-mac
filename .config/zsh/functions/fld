# Desc: lolcate fzf default (HOME)

# files=(${(f)"$(locate -Ai -0 $@ | grep -z -vE '~$' | fzf --read0 -0 -1 -m)"})

zparseopts -D -A opts -- u -update

(( $+opts[-u] + $+opts[--update] )) && lolcate --db default --update && return 0

local sel
sel=$(\
  lolcate --db default "$@" \
  | fzf \
    --delimiter / \
    --with-nth 4..
)

[[ -n "$sel" ]] && ${EDITOR:-vim} "$sel"

# vim: ft=zsh:et:sw=0:ts=2:sts=2:fdm=marker:fmr={{{,}}}:
